<!DOCTYPE html>
<html>

<%- include('components/header.ejs', {title:'Upload - Nature\'s Palette'}) %>

<body class="bg-light">

<%- include('components/navbar.ejs', {user: user}) %>
<div class="container" style="width: 50%;margin: auto">
    <div class="card" style="text-align: center">
    <div class="jumbotron" style="padding-left: 15%;padding-right: 15%">
        <h5 class="font-weight-bold mb-3">Submission Instruction: Welcome to Nature's Palette!</h5>
        <p class="lead" style="text-align: left;font-size: medium;font-family: 'Microsoft YaHei UI'">
            1. Click the following links to download templates and corresponding README files that you want. Different templates represents different darwin cores and metadata fields, README files will give you instructions about how to fill in templates.<br>2. After filling in templates, you will be asked to input basic information (mostly Dublin core) related to the submission.<br>3.Finally, you need to upload both the metadata file that you just filled in and the raw file(.zip format), then you can submit.
        </p>
        <hr class="font-weight-bold mb-3">
     <!--<div class="form-check">
            <input class="form-check-input" type="checkbox" value="">
            <label class="form-check-label" for="defaultCheck1">
                I agree
            </label>
        </div>-->
        <p class="font-weight-bold mb-3" style="text-align: center">If you agree with this submission instruction, you can press this button to start.</p>
        <a class="btn btn-secondary btn-lg" href="/upload/submission.html" role="button">START</a>
    </div>
    <div class="card-body" style="background:rgba(0,0,0,0.13);color:rgba(0,0,0,0.98);font-family: 'Microsoft YaHei UI'">
        <h5 class="font-weight-bold mb-3">Template for Reflectance metadata</h5>
        <button type="button" class="btn btn-link"><a href="/templates/FieldReflectance.csv">Field</a></button>
        <button type="button" class="btn btn-link"><a href="/templates/MuseumReflectance.csv">Museum</a></button> <br>
        <button type="button" class="btn btn-link"><a href="/templates/Field Reflectance README.txt" download>README on Field Reflectance</a></button>
        <button type="button" class="btn btn-link"><a href="/templates/Museum Reflectance README.txt" download>README on Museum Reflectance</a></button>
    </div>
    <div class="card-body" style="background:rgba(0,0,0,0.25);color:black;font-family: 'Microsoft YaHei UI'">
        <h5 class="font-weight-bold mb-3" style="text-align: center">Template for Transmittance metadata</h5>
        <button type="button" class="btn btn-link"><a href="">Field</a></button>
        <button type="button" class="btn btn-link"><a href="">Museum</a></button>
    </div>
    <div class="card-body" style="background:rgba(0,0,0,0.44);color:rgb(0,0,0);font-family: 'Microsoft YaHei UI'">
        <h5 class="font-weight-bold mb-3">Template for irradiace metadata</h5>
        <button type="button" class="btn btn-link"><a href="">Field</a></button>
    </div>
    </div>
</div>

<!--<div class="container">
    <div class="py-5 text-center">
        <form method="post" action="/register.html" enctype="multipart/form-data">
            <div class="form-group">
                <label for="exampleFormControlFile1">Upload</label>
                <input type="file" name="upload" class="form-control-file" id="exampleFormControlFile1">

                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="description-input">Description</label>
                    </div>
                    <input id="description-input" class="form-control" type="text" name="description">
                </div>
            </div>
            <input type="submit">
        </form>

        <h5>Uploaded files</h5>

        <table id="file-list" class="table table-striped">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">File Name</th>
                <th scope="col">Description</th>
            </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
</div>

<script>
    window.addEventListener('DOMContentLoaded', async () => {
        let res = await fetch('/fileList.json');
        res = await res.json();

        let tbody = document.querySelector('#file-list>tbody');

        res.forEach((row, i) => {
            let tr = document.createElement('tr');

            let rowNum =  document.createElement('td');
            let filename = document.createElement('td');
            let description = document.createElement('td');

            rowNum.innerText = i + 1;
            filename.innerText = row.filename;
            description.innerText = row.description;

            tr.appendChild(rowNum);
            tr.appendChild(filename);
            tr.appendChild(description);

            tbody.appendChild(tr);
        });
    });
</script> -->

<%- include components/scripts.ejs %>

</body>
</html>
